(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{5985:function(e,t,a){"use strict";a("9777")},9777:function(e,t,a){},a00e:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"full-height full-width"},[a("q-scroll-area",{staticClass:"full-height full-width"},[a("div",{staticClass:"q-pa-lg"},[a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.HEADING_SETTINGS_TAB",expression:"'ROCKETCHATWEBCLIENT.HEADING_SETTINGS_TAB'"}],staticClass:"col text-h5"})]),a("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[a("q-card-section",[a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.ADMIN_CHAT_URL_LABEL",expression:"'ROCKETCHATWEBCLIENT.ADMIN_CHAT_URL_LABEL'"}],staticClass:"col-2 q-mt-sm"}),a("div",{staticClass:"col-5"},[a("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.chatUrl,callback:function(t){e.chatUrl=t},expression:"chatUrl"}})],1)]),a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.ADMIN_USERNAME_LABEL",expression:"'ROCKETCHATWEBCLIENT.ADMIN_USERNAME_LABEL'"}],staticClass:"col-2 q-mt-sm"}),a("div",{staticClass:"col-5"},[a("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.adminUsername,callback:function(t){e.adminUsername=t},expression:"adminUsername"}})],1)]),a("div",{staticClass:"row"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.ADMIN_PASSWORD_LABEL",expression:"'ROCKETCHATWEBCLIENT.ADMIN_PASSWORD_LABEL'"}],staticClass:"col-2 q-mt-sm"}),a("div",{staticClass:"col-5"},[a("q-input",{attrs:{outlined:"",dense:"","bg-color":"white",type:"password",autocomplete:"new-password"},model:{value:e.adminPassword,callback:function(t){e.adminPassword=t},expression:"adminPassword"}})],1)])])],1),a("div",{staticClass:"q-pt-md text-right"},[a("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_SAVE")},on:{click:e.save}})],1)],1),a("div",{staticClass:"q-px-lg q-pb-lg q-pt-none"},[a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.HEADING_SYSTEM_SETTINGS_TAB",expression:"'ROCKETCHATWEBCLIENT.HEADING_SYSTEM_SETTINGS_TAB'"}],staticClass:"col text-h5"})]),a("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[a("q-card-section",[a("div",{staticClass:"row q-mb-sm"},[a("div",{staticClass:"col-10"},[a("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.HINT_CONFIGS_NEEDED_VALUES",expression:"'ROCKETCHATWEBCLIENT.HINT_CONFIGS_NEEDED_VALUES'"}],attrs:{caption:""}}),a("ul",[a("li",[a("q-item-label",{attrs:{caption:""}},[e._v("Accounts->Registration->Password Reset: "),a("span",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.LABEL_STATE_DISABLED",expression:"'ROCKETCHATWEBCLIENT.LABEL_STATE_DISABLED'"}]})])],1),a("li",[a("q-item-label",{attrs:{caption:""}},[e._v("General->Restrict access inside any Iframe: "),a("span",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.LABEL_STATE_DISABLED",expression:"'ROCKETCHATWEBCLIENT.LABEL_STATE_DISABLED'"}]})])],1),a("li",[a("q-item-label",{attrs:{caption:""}},[e._v("General->Iframe Integration->Enable Send: "),a("span",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.LABEL_STATE_ENABLED",expression:"'ROCKETCHATWEBCLIENT.LABEL_STATE_ENABLED'"}]})])],1),a("li",[a("q-item-label",{attrs:{caption:""}},[e._v("General->Iframe Integration->Enable Receive: "),a("span",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.LABEL_STATE_ENABLED",expression:"'ROCKETCHATWEBCLIENT.LABEL_STATE_ENABLED'"}]})])],1),a("li",[a("q-item-label",{attrs:{caption:""}},[e._v("Rate Limiter->API Rate Limiter->Enable Rate Limiter: "),a("span",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.LABEL_STATE_DISABLED",expression:"'ROCKETCHATWEBCLIENT.LABEL_STATE_DISABLED'"}]})])],1)])],1)]),e.configsRequestIsInProgress?e._e():a("div",{staticClass:"row q-mb-sm"},[a("div",{staticClass:"col-10"},[e.configsAreCorrect?a("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.HINT_CONFIGS_CORRECT",expression:"'ROCKETCHATWEBCLIENT.HINT_CONFIGS_CORRECT'"}],attrs:{caption:""}}):e._e(),e.configsAreCorrect?e._e():a("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.HINT_CONFIGS_INCORRECT",expression:"'ROCKETCHATWEBCLIENT.HINT_CONFIGS_INCORRECT'"}],staticClass:"text-red",attrs:{caption:""}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",loading:e.applyRequiredChangesInProgress,label:e.$t("ROCKETCHATWEBCLIENT.ACTION_APPLY_CONFIGS"),disable:e.configsRequestIsInProgress||e.configsAreCorrect},on:{click:e.applyRequiredChanges}})],1)])])],1)],1),a("div",{staticClass:"q-pa-lg"},[a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.HEADING_APPEARANCE_SETTINGS_TAB",expression:"'ROCKETCHATWEBCLIENT.HEADING_APPEARANCE_SETTINGS_TAB'"}],staticClass:"col text-h5"})]),a("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[a("q-card-section",[a("div",{staticClass:"row q-mb-sm"},[a("div",{staticClass:"col-10"},[a("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.HINT_APPLY_TEXTS",expression:"'ROCKETCHATWEBCLIENT.HINT_APPLY_TEXTS'"}],attrs:{caption:""}})],1)]),a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-5"},[a("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",loading:e.applyTextChangesInProgress,label:e.$t("ROCKETCHATWEBCLIENT.ACTION_APPLY_TEXTS")},on:{click:e.applyTextChanges}})],1)]),a("div",{staticClass:"row q-mb-sm"},[a("div",{staticClass:"col-10"},[a("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.HINT_APPLY_CSS",expression:"'ROCKETCHATWEBCLIENT.HINT_APPLY_CSS'"}],attrs:{caption:""}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",loading:e.applyCssChangesInProgress,label:e.$t("ROCKETCHATWEBCLIENT.ACTION_APPLY_CSS")},on:{click:e.applyCssChanges}})],1)])])],1)],1)]),a("q-dialog",{model:{value:e.showSaveBeforeApplyWarning,callback:function(t){e.showSaveBeforeApplyWarning=t},expression:"showSaveBeforeApplyWarning"}},[a("q-card",[a("q-card-section",{directives:[{name:"t",rawName:"v-t",value:"ROCKETCHATWEBCLIENT.WARNING_SAVE_BEFORE_APPLY",expression:"'ROCKETCHATWEBCLIENT.WARNING_SAVE_BEFORE_APPLY'"}]}),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("COREWEBCLIENT.ACTION_OK"),color:"primary"}})],1)],1)],1),a("q-inner-loading",{staticStyle:{"justify-content":"flex-start"},attrs:{showing:e.loading||e.saving}},[a("q-linear-progress",{attrs:{query:""}})],1)],1)},n=[],i=a("4245"),r=a("21ac"),o=a("6bfe"),C=a("e539"),l="      ",c={name:"RocketChatAdminSettingPerTenant",data:function(){return{chatUrl:"",adminUsername:"",adminPassword:l,savedPassword:l,saving:!1,loading:!1,tenant:null,configsRequestIsInProgress:!0,configsAreCorrect:!1,showSaveBeforeApplyWarning:!1,applyRequiredChangesInProgress:!1,applyTextChangesInProgress:!1,applyCssChangesInProgress:!1}},computed:{tenantId:function(){return this.$store.getters["tenants/getCurrentTenantId"]},allTenants:function(){return this.$store.getters["tenants/getTenants"]}},watch:{allTenants:function(){this.populate()}},mounted:function(){this.loading=!1,this.saving=!1,this.populate(),this.getRocketChatSettings()},beforeRouteLeave:function(e,t,a){this.doBeforeRouteLeave(e,t,a)},methods:{hasChanges:function(){var e;if(this.loading)return!1;var t=o["a"].pObject(null===(e=this.tenant)||void 0===e?void 0:e.completeData);return this.chatUrl!==t["RocketChatWebclient::ChatUrl"]||this.adminUsername!==t["RocketChatWebclient::AdminUsername"]||this.adminPassword!==this.savedPassword},revertChanges:function(){this.populate()},populate:function(){var e=this.$store.getters["tenants/getTenant"](this.tenantId);e&&(void 0!==e.completeData["RocketChatWebclient::ChatUrl"]?(this.tenant=e,this.chatUrl=e.completeData["RocketChatWebclient::ChatUrl"],this.adminUsername=e.completeData["RocketChatWebclient::AdminUsername"],this.adminPassword=l,this.savedPassword=l):this.getSettings())},save:function(){var e=this;if(!this.saving){this.saving=!0;var t={ChatUrl:this.chatUrl,AdminUsername:this.adminUsername,TenantId:this.tenantId};l!==this.adminPassword&&(t.AdminPassword=this.adminPassword),C["a"].sendRequest({moduleName:"RocketChatWebclient",methodName:"UpdateSettings",parameters:t}).then((function(a){if(e.saving=!1,!0===a){e.savedPassword=e.adminPassword;var s={"RocketChatWebclient::ChatUrl":t.ChatUrl,"RocketChatWebclient::AdminUsername":t.AdminUsername};e.$store.commit("tenants/setTenantCompleteData",{id:e.tenantId,data:s}),r["a"].showReport(e.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))}else r["a"].showError(e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(function(t){e.saving=!1,r["a"].showError(i["a"].getTextFromResponse(t,e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}},getSettings:function(){var e=this;this.loading=!0;var t={TenantId:this.tenantId};C["a"].sendRequest({moduleName:"RocketChatWebclient",methodName:"GetSettings",parameters:t}).then((function(t){if(e.loading=!1,t){var a={"RocketChatWebclient::ChatUrl":o["a"].pString(t.ChatUrl),"RocketChatWebclient::AdminUsername":o["a"].pString(t.AdminUsername)};e.$store.commit("tenants/setTenantCompleteData",{id:e.tenantId,data:a})}}))},getRocketChatSettings:function(){var e=this;this.configsRequestIsInProgress=!0,C["a"].sendRequest({moduleName:"RocketChatWebclient",methodName:"GetRocketChatSettings",parameters:{TenantId:this.tenantId}}).then((function(t){e.configsRequestIsInProgress=!1;var a="0"===t.Accounts_PasswordReset||!1===t.Accounts_PasswordReset,s="0"===t.Iframe_Restrict_Access||!1===t.Iframe_Restrict_Access,n="1"===t.Iframe_Integration_send_enable||!0===t.Iframe_Integration_send_enable,i="1"===t.Iframe_Integration_receive_enable||!0===t.Iframe_Integration_receive_enable,r="0"===t.API_Enable_Rate_Limiter||!1===t.API_Enable_Rate_Limiter;e.configsAreCorrect=!!(a&&s&&n&&i&&r)}),(function(t){e.configsRequestIsInProgress=!1}))},applyRequiredChanges:function(){var e=this;this.applyRequiredChangesInProgress||(this.hasChanges()?this.showSaveBeforeApplyWarning=!0:(this.applyRequiredChangesInProgress=!0,C["a"].sendRequest({moduleName:"RocketChatWebclient",methodName:"ApplyRocketChatRequiredChanges",parameters:{TenantId:this.tenantId}}).then((function(t){e.applyRequiredChangesInProgress=!1,!0===t?(e.configsAreCorrect=!0,r["a"].showReport(e.$t("ROCKETCHATWEBCLIENT.REPORT_APPLY_CONFIGS_SUCCESS"))):r["a"].showError(e.$t("ROCKETCHATWEBCLIENT.ERROR_APPLY_CONFIGS"))}),(function(t){e.applyRequiredChangesInProgress=!1,r["a"].showError(i["a"].getTextFromResponse(t,e.$t("ROCKETCHATWEBCLIENT.ERROR_APPLY_CONFIGS")))}))))},applyTextChanges:function(){var e=this;this.applyTextChangesInProgress||(this.hasChanges()?this.showSaveBeforeApplyWarning=!0:(this.applyTextChangesInProgress=!0,C["a"].sendRequest({moduleName:"RocketChatWebclient",methodName:"ApplyRocketChatTextChanges",parameters:{TenantId:this.tenantId}}).then((function(t){e.applyTextChangesInProgress=!1,!0===t?r["a"].showReport(e.$t("ROCKETCHATWEBCLIENT.REPORT_APPLY_CONFIGS_SUCCESS")):r["a"].showError(e.$t("ROCKETCHATWEBCLIENT.ERROR_APPLY_CONFIGS"))}),(function(t){e.applyTextChangesInProgress=!1,r["a"].showError(i["a"].getTextFromResponse(t,e.$t("ROCKETCHATWEBCLIENT.ERROR_APPLY_CONFIGS")))}))))},applyCssChanges:function(){var e=this;this.applyCssChangesInProgress||(this.hasChanges()?this.showSaveBeforeApplyWarning=!0:(this.applyCssChangesInProgress=!0,C["a"].sendRequest({moduleName:"RocketChatWebclient",methodName:"ApplyRocketChatCssChanges",parameters:{TenantId:this.tenantId}}).then((function(t){e.applyCssChangesInProgress=!1,!0===t?r["a"].showReport(e.$t("ROCKETCHATWEBCLIENT.REPORT_APPLY_CONFIGS_SUCCESS")):r["a"].showError(e.$t("ROCKETCHATWEBCLIENT.ERROR_APPLY_CONFIGS"))}),(function(t){e.applyCssChangesInProgress=!1,r["a"].showError(i["a"].getTextFromResponse(t,e.$t("ROCKETCHATWEBCLIENT.ERROR_APPLY_CONFIGS")))}))))}}},E=c,T=(a("5985"),a("2877")),d=a("4983"),m=a("f09f"),p=a("a370"),I=a("27f9"),A=a("9c40"),h=a("0170"),R=a("24e8"),N=a("4b7e"),_=a("74f7"),v=a("6b1d"),g=a("7f67"),u=a("eebe"),L=a.n(u),S=Object(T["a"])(E,s,n,!1,null,"6c89d4f4",null);t["default"]=S.exports;L()(S,"components",{QScrollArea:d["a"],QCard:m["a"],QCardSection:p["a"],QInput:I["a"],QBtn:A["a"],QItemLabel:h["a"],QDialog:R["a"],QCardActions:N["a"],QInnerLoading:_["a"],QLinearProgress:v["a"]}),L()(S,"directives",{ClosePopup:g["a"]})}}]);