(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{6804:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-scroll-area",{staticClass:"full-height full-width"},[e("div",{staticClass:"q-pa-lg "},[e("div",{staticClass:"row q-mb-md"},[e("div",{directives:[{name:"t",rawName:"v-t",value:"BRANDINGWEBCLIENT.HEADING_SETTINGS_TAB",expression:"'BRANDINGWEBCLIENT.HEADING_SETTINGS_TAB'"}],staticClass:"col text-h5"})]),e("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[e("q-card-section",[e("div",{staticClass:"row q-mb-md"},[e("div",{directives:[{name:"t",rawName:"v-t",value:"BRANDINGWEBCLIENT.LOGIN_LOGO_URL_LABEL",expression:"'BRANDINGWEBCLIENT.LOGIN_LOGO_URL_LABEL'"}],staticClass:"col-2 q-mt-sm"}),e("div",{staticClass:"col-5"},[e("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:t.loginLogoUrl,callback:function(a){t.loginLogoUrl=a},expression:"loginLogoUrl"}})],1)]),e("div",{staticClass:"row"},[e("div",{directives:[{name:"t",rawName:"v-t",value:"BRANDINGWEBCLIENT.TABSBAR_LOGO_URL_LABEL",expression:"'BRANDINGWEBCLIENT.TABSBAR_LOGO_URL_LABEL'"}],staticClass:"col-2 q-mt-sm"}),e("div",{staticClass:"col-5"},[e("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:t.tabsBarLogoUrl,callback:function(a){t.tabsBarLogoUrl=a},expression:"tabsBarLogoUrl"}})],1)])])],1),e("div",{staticClass:"q-pa-md text-right"},[e("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:t.$t("COREWEBCLIENT.ACTION_SAVE")},on:{click:t.save}})],1)],1),e("q-inner-loading",{staticStyle:{"justify-content":"flex-start"},attrs:{showing:t.loading||t.saving}},[e("q-linear-progress",{attrs:{query:""}})],1)],1)},o=[],i=e("4245"),s=e("21ac"),r=e("6bfe"),l=e("e539"),g={name:"BrandingAdminSettingPerTenant",data:function(){return{loginLogoUrl:"",tabsBarLogoUrl:"",saving:!1,loading:!1,tenant:null}},computed:{tenantId:function(){return this.$store.getters["tenants/getCurrentTenantId"]},allTenants:function(){return this.$store.getters["tenants/getTenants"]}},watch:{allTenants:function(){this.populate()}},mounted:function(){this.loading=!1,this.saving=!1,this.populate()},beforeRouteLeave:function(t,a,e){this.doBeforeRouteLeave(t,a,e)},methods:{hasChanges:function(){var t;if(this.loading)return!1;var a=r["a"].pObject(null===(t=this.tenant)||void 0===t?void 0:t.completeData);return this.loginLogoUrl!==a["BrandingWebclient::LoginLogo"]||this.tabsBarLogoUrl!==a["BrandingWebclient::TabsbarLogo"]},revertChanges:function(){this.populate()},populate:function(){var t=this.$store.getters["tenants/getTenant"](this.tenantId);t&&(void 0!==t.completeData["BrandingWebclient::LoginLogo"]?(this.tenant=t,this.loginLogoUrl=t.completeData["BrandingWebclient::LoginLogo"],this.tabsBarLogoUrl=t.completeData["BrandingWebclient::TabsbarLogo"]):this.getSettings())},save:function(){var t=this;if(!this.saving){this.saving=!0;var a={LoginLogo:this.loginLogoUrl,TabsbarLogo:this.tabsBarLogoUrl,TenantId:this.tenantId};l["a"].sendRequest({moduleName:"BrandingWebclient",methodName:"UpdateSettings",parameters:a}).then((function(e){if(t.saving=!1,!0===e){var n={"BrandingWebclient::LoginLogo":a.LoginLogo,"BrandingWebclient::TabsbarLogo":a.TabsbarLogo};t.$store.commit("tenants/setTenantCompleteData",{id:t.tenantId,data:n}),s["a"].showReport(t.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))}else s["a"].showError(t.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(function(a){t.saving=!1,s["a"].showError(i["a"].getTextFromResponse(a,t.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}},getSettings:function(){var t=this;this.loading=!0;var a={TenantId:this.tenantId};l["a"].sendRequest({moduleName:"BrandingWebclient",methodName:"GetSettings",parameters:a}).then((function(a){if(t.loading=!1,a){var e={"BrandingWebclient::LoginLogo":r["a"].pString(a.LoginLogo),"BrandingWebclient::TabsbarLogo":r["a"].pString(a.TabsbarLogo)};t.$store.commit("tenants/setTenantCompleteData",{id:t.tenantId,data:e})}}))}}},c=g,d=e("2877"),L=e("4983"),u=e("f09f"),b=e("a370"),h=e("27f9"),v=e("9c40"),m=e("74f7"),B=e("6b1d"),p=e("eebe"),E=e.n(p),T=Object(d["a"])(c,n,o,!1,null,"7a785749",null);a["default"]=T.exports;E()(T,"components",{QScrollArea:L["a"],QCard:u["a"],QCardSection:b["a"],QInput:h["a"],QBtn:v["a"],QInnerLoading:m["a"],QLinearProgress:B["a"]})}}]);